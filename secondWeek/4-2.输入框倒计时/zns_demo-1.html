<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时 - 智能社 - www.zhinengshe.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style/zns_style.css" rel="stylesheet" type="text/css" /></head>
<body>

<div id="zhinengshe">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="" />
        <span class="space1">年</span>
        <input type="text" class="text" value="" />
        <span class="space2">月</span>
        <input type="text" class="text" value="" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>

    <p id="target">
        现在距离 -
        <strong>00年00月00日</strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">00</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>

    <h1 title="智能社-www.zhinengshe.com"><a href="http://www.zhinengshe.com"></a></h1>
</div>
<script type="text/javascript">
function toDou(iNum){
    return iNum<10?'0'+iNum:''+iNum;
}
var fillIn=document.getElementById('fill_in');
var Y=fillIn.getElementsByTagName('input')[0];
var M=fillIn.getElementsByTagName('input')[1];
var D=fillIn.getElementsByTagName('input')[2];
var oTarget=document.getElementById('target');

var oD=document.getElementById('day');
var oH=document.getElementById('hour');
var oM=document.getElementById('min');
var oS=document.getElementById('sec');

var oBtn=document.getElementById('go');
var oDate=new Date();
var timer=null;
oBtn.onclick=function(){
    oTarget.getElementsByTagName('strong')[0].innerHTML=''+toDou(Y.value)+'年'+toDou(M.value)+'月'+toDou(D.value)+'日';
    var oDate=new Date();
    oDate.setFullYear(Y.value,M.value-1,D.value);
    oDate.setHours(0,0,0,0);
    var iTarget=oDate.getTime();
    tick();

    function tick(){
        var oDate=new Date();
        var s=(iTarget-oDate.getTime())/1000;
        var d=parseInt(s/86400);
        s%=86400;
        var h=parseInt(s/3600);
        s%=3600;
        var m=parseInt(s/60);
        s=parseInt(s%60);
        if(s<0){
            clearInterval(timer);
            alert('时间到了');
            s=0;
        }
        oD.innerHTML=d;
        oH.innerHTML=toDou(h);
        oM.innerHTML=toDou(m);
        oS.innerHTML=toDou(s);
    }
    timer=setInterval(tick,1000);
}
</script>
</body>
</html>
